(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{110:function(e,t,a){e.exports=a.p+"static/media/lock.62cc7b13.svg"},111:function(e,t,a){e.exports=a.p+"static/media/juese.35419fe2.svg"},113:function(e,t,a){e.exports=a.p+"static/media/look.af25d38e.svg"},199:function(e,t,a){e.exports=a.p+"static/media/dash_logo.53b60f88.svg"},200:function(e,t,a){e.exports=a.p+"static/media/loginfont.d4e6c403.svg"},201:function(e,t,a){e.exports=a.p+"static/media/picture.35a414c6.png"},202:function(e,t,a){e.exports=a.p+"static/media/login_word1.b392e962.svg"},203:function(e,t,a){e.exports=a.p+"static/media/login_word2.d09c8c16.svg"},204:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABsAAAAbCAYAAAH608TDAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyhpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMTM4IDc5LjE1OTgyNCwgMjAxNi8wOS8xNC0wMTowOTowMSAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTcgKE1hY2ludG9zaCkiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6NTBCMDlGRjkxMzg5MTFFOEFERDE5NzJEOEVGN0FFOTMiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6NTBCMDlGRkExMzg5MTFFOEFERDE5NzJEOEVGN0FFOTMiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDo1MEIwOUZGNzEzODkxMUU4QUREMTk3MkQ4RUY3QUU5MyIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDo1MEIwOUZGODEzODkxMUU4QUREMTk3MkQ4RUY3QUU5MyIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/PmqKquoAAAk5SURBVHja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"},205:function(e,t,a){e.exports=a.p+"static/media/user.7884771e.svg"},206:function(e,t,a){e.exports=a.p+"static/media/password.9f8cb4d9.svg"},211:function(e,t,a){e.exports=a(404)},222:function(e,t,a){},223:function(e,t,a){},224:function(e,t,a){e.exports=a.p+"static/media/logo.5d5d9eef.svg"},225:function(e,t,a){e.exports=a.p+"static/media/side_admin.121595f8.svg"},226:function(e,t,a){e.exports=a.p+"static/media/side_permiss.645b2909.svg"},227:function(e,t,a){e.exports=a.p+"static/media/side_plat.56645865.svg"},228:function(e,t,a){e.exports=a.p+"static/media/side_role.be409ad7.svg"},40:function(e,t,a){e.exports=a.p+"static/media/edit.98950854.svg"},401:function(e,t,a){e.exports=a.p+"static/media/loginTitle.09d13fc9.svg"},402:function(e,t,a){},404:function(e,t,a){"use strict";a.r(t);var n=a(0),s=a.n(n),i=a(7),l=a.n(i),r=a(41),o=a(48),c=a(182),m=a(148),u=a(183),d=a.n(u),p=a(184),h=(a(222),a(223),a(208)),f=function(e){return{type:"ADDACTIVEKEY",key:e}},g=Object(r.c)({login:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"LOGIN":return Object.assign({},{user:t.user.user_name});default:return e}},tabs:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:["AdminManage"],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD":var a=!1,n=Object(h.a)(e);return e.map(function(e){e==t.name&&(a=!0)}),a||n.push(t.name),n;case"REMOVE":return e.filter(function(e){return e!==t.name});case"OTHER":return a=!1,(n=[]).map(function(e){e==t.name&&(a=!0)}),a||n.push(t.name),n;case"REMOVEALL":return[];default:return e}},search:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SEARCH":return Object.assign({},t.result);default:return e}},addActiveKey:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"AdminManage",t=arguments.length>1?arguments[1]:void 0;switch(console.log(t),t.type){case"ADDACTIVEKEY":return t.key;default:return e}}}),v=(a(224),a(207)),E=a(57),k=a(78),y=a.n(k),b=a(209),C=a(17),w=a(18),_=a(21),S=a(19),M=a(20),x=a(149),N=(a(225),a(226),a(227),a(228),function(e){function t(e){var a;return Object(C.a)(this,t),(a=Object(_.a)(this,Object(S.a)(t).call(this,e))).state={openKeys:[],selectedKey:"",checkedMenu:"",defKey:""},a}return Object(M.a)(t,e),Object(w.a)(t,[{key:"componentDidMount",value:function(){this.setState({defKey:this.props.defKey})}},{key:"componentWillReceiveProps",value:function(e){}},{key:"addTabs",value:function(e){this.props.onTabEdit(e,"add")}},{key:"render",value:function(){var e=this;return s.a.createElement("div",{className:"sideBar"},s.a.createElement("div",{className:"side-title"},"\u7ba1\u7406\u7cfb\u7edf"),s.a.createElement(x.a,{theme:"dark",mode:"inline",selectedKeys:[this.state.defKey]},s.a.createElement(x.a.Item,{key:"AdminManage"},s.a.createElement("span",{onClick:function(){e.addTabs("AdminManage"),e.setState({defKey:"AdminManage"})}},"\u4f1a\u5458\u7ba1\u7406")),s.a.createElement(x.a.Item,{key:"AgentManage"},s.a.createElement("span",{onClick:function(){e.addTabs("AgentManage"),e.setState({defKey:"AgentManage"})}},"\u4ee3\u7406\u5546\u7ba1\u7406")),s.a.createElement(x.a.Item,{key:"RoleManage"},s.a.createElement("span",{onClick:function(){e.addTabs("RoleManage"),e.setState({defKey:"RoleManage"})}},"\u89d2\u8272\u7ba1\u7406")),s.a.createElement(x.a.Item,{key:"PowerManage"},s.a.createElement("span",{onClick:function(){e.addTabs("PowerManage"),e.setState({defKey:"PowerManage"})}},"\u6743\u9650\u7ba1\u7406")),s.a.createElement(x.a.SubMenu,{key:"sub1",title:s.a.createElement("span",null,"\u4ea7\u54c1\u5e93\u7ba1\u7406")},s.a.createElement(x.a.Item,{key:"UserProductManage",onClick:function(){e.addTabs("UserProductManage"),e.setState({defKey:"UserProductManage"})}},"\u7528\u6237\u4ea7\u54c1"),s.a.createElement(x.a.Item,{key:"PlatProductManage",onClick:function(){e.addTabs("PlatProductManage"),e.setState({defKey:"PlatProductManage"})}},"\u5e73\u53f0\u4ea7\u54c1")),s.a.createElement(x.a.Item,{key:"OrderManage"},s.a.createElement("span",{onClick:function(){e.addTabs("OrderManage"),e.setState({defKey:"OrderManage"})}},"\u8ba2\u5355\u7ba1\u7406")),s.a.createElement(x.a.Item,{key:"StoreManage"},s.a.createElement("span",{onClick:function(){e.addTabs("StoreManage"),e.setState({defKey:"StoreManage"})}},"\u4ed3\u5e93\u7ba1\u7406")),s.a.createElement(x.a.Item,{key:"NoLogisistManage"},s.a.createElement("span",{onClick:function(){e.addTabs("NoLogisistManage"),e.setState({defKey:"NoLogisistManage"})}},"\u8ba2\u5355\u672a\u53d1\u7269\u6d41\u9884\u8b66")),s.a.createElement(x.a.Item,{key:"ContractorManage"},s.a.createElement("span",{onClick:function(){e.addTabs("ContractorManage"),e.setState({defKey:"ContractorManage"})}},"\u7b2c\u4e09\u65b9\u627f\u5305\u65b9\u7ba1\u7406")),s.a.createElement(x.a.Item,{key:"FactoryManage"},s.a.createElement("span",{onClick:function(){e.addTabs("FactoryManage"),e.setState({defKey:"FactoryManage"})}},"\u5382\u5bb6\u7ba1\u7406"))))}}]),t}(n.Component)),O=Object(o.b)(function(e){return{user:e.login.user}})(N),j=a(75),D=a(411),A=a(32),L=a.n(A),I=y()({forceRefresh:!0}),P=function(){function e(){Object(C.a)(this,e),this._locks={}}return Object(w.a)(e,[{key:"$get",value:function(e,t,a,n){return this.$ajax("GET",e,t,a,n)}},{key:"$post",value:function(e,t,a,n){return this.$ajax("POST",e,t,a,n)}},{key:"$delete",value:function(e,t,a,n){return this.$ajax("DELETE",e,t,a,n)}},{key:"$ajax",value:function(e,t,a,n,s){var i=this;return this._locks[t]=1,L.a.ajax({type:e,url:t,data:a,beforeSend:function(e){e.withCredentials=!0},crossDomain:!0,success:function(e){return delete i._locks[t],-1==(e=e||{}).errnum?I.replace("/login"):10103==e.errnum?I.replace("/login"):10108==e.errnum?I.replace("/login"):e.errmsg?i.ajaxError(e.errmsg,s):void(n&&n(e.data&&e.data||e))},error:function(e,a){"abort"!=a&&(delete i._locks[t],i.ajaxError(null,s))}})}},{key:"ajaxError",value:function(e,t){return e&&D.a.warning({title:"\u63d0\u793a",content:e||"\u7f51\u7edc\u51fa\u9519\u4e86\uff0c\u8bf7\u5237\u65b0\u540e\u91cd\u8bd5!!"}),t&&t()}}]),e}(),T=(new P,y()()),R=function(e){function t(e){var a;return Object(C.a)(this,t),(a=Object(_.a)(this,Object(S.a)(t).call(this,e))).state={isSearch:!1,searching:!1,searchValidationState:null},a.handleKeyUp=a.handleKeyUp.bind(Object(j.a)(a)),a}return Object(M.a)(t,e),Object(w.a)(t,[{key:"componentDidMount",value:function(){var e=this.props;e.user,e.dispatch;window.addEventListener("keyup",this.handleKeyUp)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("keyup",this.handleKeyUp)}},{key:"handleToGuide",value:function(){T.replace("/guide")}},{key:"handleLogout",value:function(){this.props.dispatch}},{key:"handleChange",value:function(){this.setState({searchValidationState:null})}},{key:"handleFocus",value:function(){this.setState({searching:!0})}},{key:"handleBlur",value:function(){this.setState({searching:!1,searchValidationState:null})}},{key:"handleSearch",value:function(e){this.searchEvent(e)}},{key:"handleKeyUp",value:function(e){var t=this.state.searching;13===e.keyCode&&t&&this.searchEvent()}},{key:"render",value:function(){var e=this.props.user;s.a.createElement(x.a,null,s.a.createElement(x.a.Item,{key:"0",onClick:function(e){console.log(e)}},"\u5bc6\u7801\u91cd\u7f6e"));return s.a.createElement("div",{className:"header bgColorGray"},s.a.createElement("div",{className:"topbarCont"},s.a.createElement("div",{className:"userInfo"},s.a.createElement("span",{style:{color:"#222",marginRight:"10px"}},e?"\u60a8\u597d,"+e:"\u60a8\u597d"),s.a.createElement("a",{href:"javascript:;",className:"colorMin header-logout",onClick:this.handleLogout.bind(this)}," ","\u9000\u51fa"))))}}]),t}(n.Component),V=Object(o.b)(function(e){var t=e.search.type;return{user:e.login.user,type:t||1}},function(e){return{dispatch:e}})(R),z=a(407),G=a(409),K=a(114),U=a(11),W=a(91),Z=a(410),H=a(115),F=a(79),Y=a(412),J=a(33),B=a(406),Q=a(413),X=a(408),q=G.a.TabPane,$=(F.a.Group,new P,function(e){function t(e){var a;return Object(C.a)(this,t),(a=Object(_.a)(this,Object(S.a)(t).call(this,e))).state={options1:[],planOptions2:[],powerModalIndeterminate1:!0,powerModalIndeterminate2:!0,powerModalCheckAll1:!1,powerModalCheckAll2:!1,powerModalCheckedList1:[],powerModalCheckedList2:[],powerModalCheckedListDef2:[],selfChecked:[],checkAllList1:[],checkAllList2:[],idflag:""},a}return Object(M.a)(t,e),Object(w.a)(t,[{key:"componentDidMount",value:function(){Array.prototype.distinct=function(){var e,t,a=[],n=this.length;for(e=0;e<n;e++){for(t=e+1;t<n;t++)this[e]===this[t]&&(t=++e);a.push(this[e])}return a},this.getUserRole(),this.getRolePerList()}},{key:"componentWillReceiveProps",value:function(e){e.active!=this.state.idflag&&this.getRolePerList(),this.setState({idflag:e.active})}},{key:"getUserRole",value:function(){this.state.powerModalCheckedList1}},{key:"getUserPer",value:function(){}},{key:"getRolePerList",value:function(){this.getRoleList(),this.getPermissList()}},{key:"getRoleList",value:function(){}},{key:"getPermissList",value:function(){}},{key:"changeRole",value:function(){this.state.powerModalCheckedList1.join(","),this.props.user_id,this.props.id}},{key:"changePer",value:function(){this.state.powerModalCheckedList2.join(","),this.props.user_id,this.props.id}},{key:"changeOptions1",value:function(){var e=this.state,t=e.options1,a=e.powerModalCheckedList1;t.map(function(e){e.checked=!1,a.map(function(t){t==e.value&&(e.checked=!0)})}),this.setState({options1:t,powerModalCheckAll1:a.length==t.length})}},{key:"changeOption2",value:function(){var e=this.state,t=e.planOptions2,a=e.powerModalCheckedListDef2,n=e.powerModalCheckedList2;t.map(function(e){e.disabled=!1,e.checked=!1,n.map(function(t){e.value==t&&(e.checked=!0)}),a.map(function(t){e.value==t&&(e.disabled=!0,e.checked=!0)})}),this.setState({planOptions2:t,powerModalCheckAll2:n.length==t.length})}},{key:"render",value:function(){var e=this,t=this.state,a=t.options1,n=t.planOptions2;return s.a.createElement(G.a,{defaultActiveKey:"1",type:"card",tabBarGutter:"0",onChange:function(t){"2"==t&&e.getUserPer()}},s.a.createElement(q,{tab:"\u89d2\u8272",key:"1"},s.a.createElement("div",{style:{marginBottom:"6px"}},s.a.createElement(F.a,{onChange:function(t){e.setState({powerModalCheckedList1:t.target.checked?e.state.checkAllList1:[],powerModalCheckAll1:t.target.checked},function(){e.props.changeRoleList(e.state.powerModalCheckedList1.join(",")),e.changeOptions1(),e.changeRole()})},checked:this.state.powerModalCheckAll1},"\u5168\u9009")),a.map(function(t,n){return s.a.createElement(F.a,{value:t.vlaue,key:n+"",checked:t.checked,onChange:function(n){var s=n.target.checked,i=e.state.powerModalCheckedList1,l=[];i.map(function(e){l.push(e)}),s?l.push(t.value):l=l.filter(function(e){return e!=t.value}),e.setState({powerModalCheckedList1:l,powerModalCheckAll1:l.length===a.length},function(){e.props.changeRoleList(e.state.powerModalCheckedList1.join(",")),e.changeOptions1(),e.changeRole()})}},t.label)})),s.a.createElement(q,{tab:"\u6743\u9650("+this.state.powerModalCheckedList2.length+")",key:"2"},s.a.createElement("div",{style:{marginBottom:"6px"}},s.a.createElement(F.a,{onChange:function(t){e.setState({powerModalCheckedList2:t.target.checked?e.state.checkAllList2:e.state.powerModalCheckedListDef2,selfChecked:t.target.checked?e.state.checkAllList2:[],powerModalCheckAll2:t.target.checked},function(){e.changeOption2(),e.changePer(),e.props.changePermissionList(e.state.powerModalCheckedList2.join(","))})},checked:this.state.powerModalCheckAll2,disabled:this.state.powerModalCheckedListDef2.length==this.state.planOptions2.length},"\u5168\u9009")),n.map(function(t,a){return s.a.createElement(F.a,{value:t.vlaue,key:a+"",checked:t.checked,disabled:t.disabled,onChange:function(a){var s=a.target.checked,i=e.state.selfChecked;s?i.push(t.value):i=i.filter(function(e){return e!=t.value});var l=e.state.powerModalCheckedListDef2.concat(i).distinct();e.setState({selfChecked:i,powerModalCheckedList2:l,powerModalCheckAll2:l.length==n.length},function(){e.props.changePermissionList(l.join(",")),e.changeOption2(),e.changePer()})}},t.label)})))}}]),t}(n.Component)),ee=a(40),te=a.n(ee),ae=a(110),ne=a.n(ae),se=a(111),ie=a.n(se),le=(new P,W.a.Option),re=Z.a.Item,oe=H.a.Group,ce=(F.a.Group,G.a.TabPane),me={labelCol:{span:7},wrapperCol:{span:14}},ue=function(e){function t(e){var a;return Object(C.a)(this,t),(a=Object(_.a)(this,Object(S.a)(t).call(this,e))).state={page_num:1,page_size:20,total_size:"",platform_id:" ",user_id:"",kw:"",userList:[],loading:!1,locale:{emptyText:"\u6ca1\u6709\u76f8\u5173\u6570\u636e"},addEditVisible:!1,modalTitle:"\u7528\u6237\u65b0\u5efa",isAdd:!0,formData:{user_id:"",username:"",username_status:"",name:"",name_status:"",phone:"",phone_status:"",platforms:[],status:!0,isEdit:!1},columns:[],powerVisible:!1,powerUserName:"",powerName:"",permission_ids:"",role_ids:"",platList:[],powerPlatShow:[],activeKey:"",resetVisible:!1,old_passwd:"",old_passwd_status:"",new_passwd:"",new_passwd_status:"",new_passwd_confirm:"",new_passwd_confirm_status:"",noChoice:!1,message:"",plat_id:""},a}return Object(M.a)(t,e),Object(w.a)(t,[{key:"componentDidMount",value:function(){this.getData(),this.setColumn()}},{key:"componentWillReceiveProps",value:function(){}},{key:"setColumn",value:function(){var e=this,t=(this.state.formData,[{title:"\u4f1a\u5458\u540d\u79f0",dataIndex:"index",key:"index"},{title:"\u4f1a\u5458\u7b49\u7ea7",dataIndex:"name",key:"name"},{title:"\u4f1a\u5458\u6570\u91cf",dataIndex:"username",key:"username"},{title:"\u4f1a\u5458\u64cd\u4f5c",key:"action",render:function(t){return s.a.createElement("div",null,s.a.createElement("img",{src:te.a,className:"admin_action",alt:"",onClick:function(){e.getUserDetail(t.user_id)}}),s.a.createElement("img",{src:ie.a,className:"admin_action",alt:"",onClick:function(){var a=[];t.platforms.map(function(e){a.push(e.platform_id+"")}),e.setState({powerUserName:t.username,powerName:t.name,powerPlatShow:a,activeKey:a[0],powerVisible:!0,user_id:t.user_id})}}),s.a.createElement("img",{src:ne.a,className:"admin_action",alt:"",onClick:function(){D.a.confirm({title:"\u63d0\u793a",content:"\u786e\u5b9a\u91cd\u7f6e\u5bc6\u7801\uff1f",okText:"\u786e\u5b9a",cancelText:"\u5173\u95ed",onOk:function(){e.resetPasswd(t.user_id)}})}}))}}]);this.setState({columns:t})}},{key:"getUserDetail",value:function(e){var t=this.state,a=t.formData;t.platList;a.isEdit=!0,a.user_id=e}},{key:"focusNextInput",value:function(e){for(var t=document.getElementsByClassName("input"),a=0;a<t.length;a++){if(a==t.length-1){t[0].focus();break}if(e.target==t[a]){t[a+1].focus();break}}}},{key:"topBar",value:function(){var e=this;return s.a.createElement("div",{className:"search-title",style:{minWidth:"1170px"}},s.a.createElement("div",{className:"params params-20",style:{minWidth:"97px"}},s.a.createElement("span",null,"\u5e73\u53f0\uff1a"),s.a.createElement(W.a,{value:this.state.platform_id+"",style:{width:"200px"},onChange:function(t){e.setState({platform_id:t},function(){e.getData()})}},this.state.platList.map(function(e){return s.a.createElement(le,{value:e.platform_id+"",key:e.platform_id+""},e.platform_name)}),s.a.createElement(le,{value:" "},"\u5168\u90e8"))),s.a.createElement("div",{className:"params params-20",style:{minWidth:"170px"}},s.a.createElement("span",null,"\u5173\u952e\u5b57\uff1a"),s.a.createElement(Y.a,{placeholder:"\u59d3\u540d\u3001\u8d26\u53f7\u3001\u624b\u673a\u53f7",value:this.state.kw,style:{width:"200px"},onChange:function(t){e.setState({kw:t.target.value},function(){e.getData()})}})),s.a.createElement("div",{className:"params",style:{marginRight:"60px"}},s.a.createElement(J.a,{className:"search-btn",onClick:function(){e.getData()}},"\u67e5\u8be2"),s.a.createElement(J.a,{style:{maxWidth:"60px",backgroundcolor:"#fff",borderColor:"#d9d9d9",color:"#222",marginLeft:"12px"},onClick:function(){e.setState({kw:"",platform_id:" "},function(){return e.getData()})}},"\u6e05\u7a7a")))}},{key:"getData",value:function(){this.setState({locale:{emptyText:"\u6ca1\u6709\u76f8\u5173\u6570\u636e"}});var e=this.state,t=e.platform_id,a=e.kw,n={page_size:e.page_size,page_num:e.page_num};" "!=t&&(n.platform_id=t),a&&(n.kw=a)}},{key:"addEditModal",value:function(){var e=this,t=this.state,a=t.modalTitle,n=t.addEditVisible,i=t.formData;return s.a.createElement(D.a,{title:a,wrapClassName:"admin_modal column",width:"520px",visible:n,onCancel:this.handleModelCancel.bind(this),footer:s.a.createElement("div",{className:"action"},s.a.createElement(J.a,{style:{backgroundColor:"transparent"},onClick:this.handleModelCancel.bind(this)},"\u5173\u95ed"),s.a.createElement(J.a,{className:" add_btn",onClick:this.handleModelOk.bind(this)},"\u4fdd\u5b58"))},s.a.createElement(re,Object.assign({},me,{label:s.a.createElement("span",null,s.a.createElement("i",null,"*"),"\u8d26\u53f7"),validateStatus:i.username_status}),s.a.createElement(Y.a,{placeholder:"\u8bf7\u8f93\u5165\u624b\u673a\u53f7\u7801",disabled:i.isEdit,className:"input",onPressEnter:function(t){return e.focusNextInput(t)},value:i.username,onChange:function(t){i.username=t.target.value,i.phone=t.target.value,e.setState({formData:i})}})),s.a.createElement(re,Object.assign({},me,{label:s.a.createElement("span",null,s.a.createElement("i",null,"*"),"\u59d3\u540d"),validateStatus:i.name_status}),s.a.createElement(Y.a,{placeholder:"\u8bf7\u8f93\u5165\u59d3\u540d",className:"input",onPressEnter:function(t){return e.focusNextInput(t)},value:i.name,onChange:function(t){i.name=t.target.value,e.setState({formData:i})}})),s.a.createElement(re,Object.assign({},me,{label:s.a.createElement("span",null,s.a.createElement("i",null,"*"),"\u624b\u673a\u53f7"),validateStatus:i.phone_status}),s.a.createElement(Y.a,{placeholder:"\u8bf7\u8f93\u5165\u6b63\u786e\u624b\u673a\u53f7",className:"input",onPressEnter:function(t){return e.focusNextInput(t)},value:i.phone,onChange:function(t){i.phone=t.target.value,e.setState({formData:i})}})),s.a.createElement(re,Object.assign({},me,{label:s.a.createElement("span",null,s.a.createElement("i",null,"*"),"\u5e73\u53f0")}),s.a.createElement(B.a,null,this.state.platList.map(function(t,a){return s.a.createElement(F.a,{key:a+"",style:{marginRight:"30px"},value:t.platform_id+"",checked:t.checked,onChange:function(a){a.target.checked?i.platforms.push(t.platform_id+""):i.platforms=i.platforms.filter(function(e){return e!=t.platform_id+""}),e.setState({formData:i},function(){var t=e.state.platList;t.map(function(t){t.checked=!1,e.state.formData.platforms.map(function(e){t.platform_id+""==e&&(t.checked=!0)})}),e.setState({platList:t})})}},t.platform_name)}))),s.a.createElement(re,Object.assign({},me,{label:"\u542f\u7528\u72b6\u6001"}),s.a.createElement(oe,{onChange:function(t){i.status=t.target.value,e.setState({formData:i})},value:i.status},s.a.createElement(H.a,{value:!0},"\u6b63\u5e38"),s.a.createElement(H.a,{value:!1},"\u505c\u7528"))),this.state.noChoice?s.a.createElement(Q.a,{message:this.state.message,type:"error",closable:!0,showIcon:!0}):null)}},{key:"handleModelCancel",value:function(){this.clearCreateForm(),this.setState({addEditVisible:!1})}},{key:"clearCreateForm",value:function(){var e=this,t=this.state,a=t.formData,n=t.platList;a.user_id="",a.username="",a.username_status="",a.name="",a.name_status="",a.phone="",a.phone_status="",a.status=!0,a.isEdit=!1,a.platforms=[],this.setState({formData:a},function(){n.map(function(t){t.checked=!1,e.state.formData.platforms.map(function(e){t.platform_id+""==e&&(t.checked=!0)})}),e.setState({platList:n})})}},{key:"handleModelOk",value:function(){var e=this,t=this.state,a=t.isAdd,n=t.formData;if(!n.username)return this.setState({noChoice:!0,message:"\u60a8\u8fd8\u6ca1\u6709\u8f93\u5165\u8d26\u53f7\uff01",platform_name_status:"error"}),void window.setTimeout(function(){e.setState({noChoice:!1})},5e3);if(!n.name)return this.setState({noChoice:!0,message:"\u60a8\u8fd8\u6ca1\u6709\u8f93\u5165\u59d3\u540d\uff01",platform_name_status:"error"}),void window.setTimeout(function(){e.setState({noChoice:!1})},5e3);if(!n.phone)return this.setState({noChoice:!0,message:"\u60a8\u8fd8\u6ca1\u6709\u8f93\u5165\u624b\u673a\u53f7\uff01",platform_name_status:"error"}),void window.setTimeout(function(){e.setState({noChoice:!1})},5e3);if(n.platforms.length<=0)return this.setState({noChoice:!0,message:"\u60a8\u8fd8\u6ca1\u6709\u9009\u62e9\u5e73\u53f0\uff01",platform_name_status:"error"}),void window.setTimeout(function(){e.setState({noChoice:!1})},5e3);if(a){n.username,n.name,n.phone;var s=n.status;n.platforms.join(",");s=s?1:0}else{n.username,n.name,n.phone;var i=n.status,l=n.platforms;n.user_id,l.join(",");i=i?1:0}}},{key:"powerModal",value:function(){var e=this;return s.a.createElement(D.a,{title:"\u7528\u6237\u89d2\u8272\u6743\u9650",wrapClassName:"admin_power_modal column",width:"940px",visible:this.state.powerVisible,onCancel:function(){e.setState({powerVisible:!1})},footer:s.a.createElement("div",{className:"action"},s.a.createElement(J.a,{style:{backgroundColor:"transparent"},onClick:function(){e.setState({powerVisible:!1})}},"\u5173\u95ed"))},s.a.createElement("div",{className:"user_msg"},s.a.createElement("span",{className:"modal_title"},"\u57fa\u672c\u4fe1\u606f"),s.a.createElement("p",{style:{marginTop:"10px"}},s.a.createElement("span",{style:{marginRight:"20px"}},"\u7528\u6237\u8d26\u53f7\uff1a",this.state.powerUserName),s.a.createElement("span",null,"\u7528\u6237\u59d3\u540d\uff1a",this.state.powerName))),s.a.createElement("div",{className:"power_set"},s.a.createElement("span",{className:"modal_title"},"\u89d2\u8272\u6743\u9650\u8bbe\u7f6e"),s.a.createElement(G.a,{activeKey:this.state.activeKey,onChange:function(t){var a=e.state;a.user_id,a.plat_id,a.role_ids,a.permission_ids;e.setState({activeKey:t,plat_id:t})}},this.state.platList.map(function(t){return e.state.powerPlatShow.map(function(a,n){if(a==t.platform_id)return s.a.createElement(ce,{tab:t.platform_name+"",key:a+""},s.a.createElement($,{key:n+"",user_id:e.state.user_id,name:t.platform_name,active:e.state.activeKey,id:t.platform_id,changePermissionList:function(t){e.setState({permission_ids:t})},changeRoleList:function(t){e.setState({role_ids:t})},changePlatId:function(t){e.setState({plat_id:t})}}))})}))))}},{key:"resetPasswd",value:function(e){}},{key:"render",value:function(){var e=this;return s.a.createElement("div",{className:"admin"},s.a.createElement(J.a,{className:"add_btn",onClick:function(){e.setState({addEditVisible:!0,modalTitle:"\u7528\u6237\u65b0\u5efa",isAdd:!0})}},s.a.createElement(U.a,{type:"plus"}),"\u65b0\u589e"),this.topBar(),s.a.createElement("div",{className:"tableWarp"},s.a.createElement(X.a,{columns:this.state.columns,dataSource:this.state.userList,bordered:!0,loading:this.state.loading,locale:this.state.locale,pagination:{current:this.state.page_num,pageSize:this.state.page_size,showQuickJumper:!0,showSizeChanger:!0,onChange:function(t){e.setState({page_num:t},function(){e.getData()})},onShowSizeChange:function(t,a){e.setState({page_size:a},function(){e.getData()})},total:this.state.total_size}})),this.addEditModal(),this.powerModal())}}]),t}(n.Component),de=a(113),pe=a.n(de),he=a(74),fe=a.n(he),ge=(G.a.TabPane,F.a.Group),ve=Z.a.Item,Ee=W.a.Option,ke=(new P,{labelCol:{span:5},wrapperCol:{span:16}}),ye=(n.Component,G.a.TabPane,W.a.Option),be=(F.a.Group,Z.a.Item),Ce=(new P,{labelCol:{span:7},wrapperCol:{span:14}}),we=function(e){function t(e){var a;return Object(C.a)(this,t),(a=Object(_.a)(this,Object(S.a)(t).call(this,e))).state={visible:!1,platform_id:"",permission_id:"",platName:"",platList:[],kw:"",PermissList:[],loading:!1,locale:{emptyText:"\u6ca1\u6709\u76f8\u5173\u6570\u636e"},isAdd:!0,isLook:!1,permission_name:"",permissname_status:"",permission_flag:"",permissflag_status:"",permission_desc:"",addEditVisible:!1,noChoice:!1,message:"",page_size:20,page_num:1,total_size:0},a}return Object(M.a)(t,e),Object(w.a)(t,[{key:"componentWillMount",value:function(){this.setColumn()}},{key:"componentWillReceiveProps",value:function(){}},{key:"getPermissList",value:function(){var e=this.state,t=e.kw,a=e.platform_id,n=e.page_num,s=e.page_size,i={};i.platform_id=a,i.page_num=n,i.page_size=s,t&&(i.kw=t),this.setState({loading:!0})}},{key:"topBar",value:function(){var e=this;return s.a.createElement("div",{className:"search-title",style:{minWidth:"1170px"}},s.a.createElement("div",{className:"params params-20",style:{minWidth:"97px"}},s.a.createElement("span",null,"\u5e73\u53f0\uff1a"),s.a.createElement(W.a,{value:this.state.platform_id+"",style:{width:200},onChange:function(t){e.setState({platform_id:t,page_num:1,page_size:20},function(){e.getPermissList()})}},this.state.platList.map(function(e){return s.a.createElement(ye,{value:e.platform_id+"",key:e.platform_id+""},e.platform_name)}))),s.a.createElement("div",{className:"params params-20",style:{minWidth:"170px"}},s.a.createElement("span",null,"\u5173\u952e\u5b57\uff1a"),s.a.createElement(Y.a,{placeholder:"\u8bf7\u8f93\u5165\u6743\u9650\u540d\u79f0\u3001\u6807\u8bc6",value:this.state.kw,style:{width:"200px"},onChange:function(t){e.setState({kw:t.target.value},function(){return e.getPermissList()})}})),s.a.createElement("div",{className:"params",style:{marginRight:"60px"}},s.a.createElement(J.a,{className:"search-btn",onClick:function(){e.getPermissList()}},"\u67e5\u8be2"),s.a.createElement(J.a,{style:{maxWidth:"60px",backgroundcolor:"#fff",borderColor:"#d9d9d9",color:"#222",marginLeft:"12px"},onClick:function(){e.setState({kw:""},function(){return e.getPermissList()})}},"\u6e05\u7a7a")))}},{key:"setColumn",value:function(){var e=this,t=(this.state.formData,[{title:"\u5e8f\u53f7",dataIndex:"index",key:"index",width:60},{title:"\u64cd\u4f5c",key:"action",width:118,render:function(t){return s.a.createElement("div",null,s.a.createElement("img",{src:te.a,className:"role_action",alt:"",onClick:function(){e.getPermissDetail(t.permission_id),e.setState({permission_id:t.permission_id,modalTitle:"\u6743\u9650\u7f16\u8f91"})}}),s.a.createElement("img",{src:fe.a,className:"role_action",alt:"",onClick:function(){D.a.confirm({title:"\u786e\u5b9a\u8981\u5220\u9664\u8be5\u6743\u9650\uff1f",okText:"\u786e\u5b9a",cancelText:"\u53d6\u6d88",onOk:function(){e.deletePermiss(t.permission_id)}})}}),s.a.createElement("img",{src:pe.a,className:"role_action",alt:"",onClick:function(){e.getPermissDetail(t.permission_id),e.setState({permission_id:t.permission_id,modalTitle:"\u6743\u9650\u67e5\u770b",isLook:!0})}}))}},{title:"\u6743\u9650\u540d\u79f0",dataIndex:"permission_name",key:"permission_name"},{title:"\u6807\u8bc6",dataIndex:"permission_flag",key:"permission_flag"},{title:"\u5907\u6ce8",dataIndex:"permission_desc",key:"permission_desc"}]);this.setState({columns:t})}},{key:"getPermissDetail",value:function(e){}},{key:"addEditModal",value:function(){var e=this,t=this.state,a=t.modalTitle,n=t.addEditVisible,i=t.permission_name,l=t.permission_flag,r=t.permission_desc,o=t.permissflag_status,c=t.permissname_status,m=t.noChoice;return s.a.createElement(D.a,{title:a,wrapClassName:"admin_modal column",width:"520px",visible:n,onCancel:this.clearForm.bind(this),footer:s.a.createElement("div",{className:"action"},s.a.createElement(J.a,{style:{backgroundColor:"transparent"},onClick:this.clearForm.bind(this)},"\u5173\u95ed"),this.state.isLook?null:s.a.createElement(J.a,{className:" add_btn",onClick:this.handleModelOk.bind(this)},"\u4fdd\u5b58"))},s.a.createElement(be,Object.assign({},Ce,{label:s.a.createElement("span",null,s.a.createElement("i",null,"*"),"\u6743\u9650\u540d\u79f0"),validateStatus:c}),s.a.createElement(Y.a,{placeholder:"\u8bf7\u8f93\u5165\u6743\u9650\u540d\u79f0",className:"input",disabled:this.state.isLook,value:i,onChange:function(t){e.setState({permission_name:t.target.value})}})),s.a.createElement(be,Object.assign({},Ce,{label:s.a.createElement("span",null,s.a.createElement("i",null,"*"),"\u6743\u9650\u6807\u8bc6"),validateStatus:o}),s.a.createElement(Y.a,{placeholder:"2-12\u4e2a\u82f1\u6587\u5b57\u6bcd",className:"input",value:l,disabled:this.state.isLook,onChange:function(t){e.setState({permission_flag:t.target.value})}})),s.a.createElement(be,Object.assign({},Ce,{label:"\u5907\u6ce8"}),s.a.createElement(Y.a,{placeholder:"",className:"input",value:r,disabled:this.state.isLook,onChange:function(t){e.setState({permission_desc:t.target.value})}})),m?s.a.createElement(Q.a,{message:this.state.message,type:"error",closable:!0,showIcon:!0}):null)}},{key:"clearForm",value:function(){this.setState({addEditVisible:!1,permission_name:"",permissname_status:"",permission_flag:"",permissflag_status:"",permission_desc:"",isLook:!1})}},{key:"handleModelOk",value:function(){var e=this,t=this.state,a=(t.isAdd,t.permission_flag),n=t.permission_name;t.platform_id,t.permission_id,t.permission_desc;return n?a?void 0:(this.setState({noChoice:!0,message:"\u60a8\u8fd8\u6ca1\u6709\u8f93\u5165\u6743\u9650\u6807\u8bc6\uff01",permissflag_status:"error"}),void window.setTimeout(function(){e.setState({noChoice:!1})},5e3)):(this.setState({noChoice:!0,message:"\u60a8\u8fd8\u6ca1\u6709\u8f93\u5165\u6743\u9650\u540d\u79f0\uff01",permissname_status:"error"}),void window.setTimeout(function(){e.setState({noChoice:!1})},5e3))}},{key:"deletePermiss",value:function(e){}},{key:"render",value:function(){var e=this;return s.a.createElement("div",{className:"power"},this.state.visible?s.a.createElement("div",{className:"modalWarp"},s.a.createElement("div",{className:"chooseModal"},this.state.platList.length>0?this.state.platList.map(function(t,a){return s.a.createElement("div",{key:a+"",style:{width:"280px",height:"38px",lineHeight:"38px",margin:"0 auto 20px",borderRadius:"4px",textAlign:"center",backgroundColor:"#16b8be",color:"#fff",cursor:"pointer"},onClick:function(){e.setState({visible:!1,platName:t.platform_name,platform_id:t.platform_id},function(){e.getPermissList()})}},t.platform_name)}):s.a.createElement("div",{style:{textAlign:"center"}},"\u8bf7\u5148\u521b\u5efa\u5e73\u53f0\uff01"))):s.a.createElement("div",null,this.topBar(),s.a.createElement("div",{className:"tableWarp"},s.a.createElement(X.a,{columns:this.state.columns,dataSource:this.state.PermissList,bordered:!0,loading:this.state.loading,locale:this.state.locale,pagination:{current:this.state.page_num,pageSize:this.state.page_size,showQuickJumper:!0,showSizeChanger:!0,onChange:function(t){e.setState({page_num:t},function(){e.getPermissList()})},onShowSizeChange:function(t,a){e.setState({page_size:a},function(){e.getPermissList()})},total:this.state.total_size}})),this.addEditModal(),s.a.createElement(J.a,{className:"add_btn",onClick:function(){e.setState({addEditVisible:!0,modalTitle:"\u6743\u9650\u65b0\u589e",isAdd:!0})}},s.a.createElement(U.a,{type:"plus"}),"\u65b0\u589e")))}}]),t}(n.Component),_e=a(142),Se=a.n(_e),Me=(new P,Z.a.Item),xe={labelCol:{span:7},wrapperCol:{span:14}},Ne=function(e){function t(e){var a;return Object(C.a)(this,t),(a=Object(_.a)(this,Object(S.a)(t).call(this,e))).state={platList:[],loading:!1,columns:[],platform_id:"",modalTitle:"",addEditVisible:!1,isAdd:!0,platform_flag:"",platform_flag_status:"",platform_name:"",platform_name_status:"",noChoice:!1,message:""},a}return Object(M.a)(t,e),Object(w.a)(t,[{key:"componentDidMount",value:function(){this.getData(),this.setColumn()}},{key:"setColumn",value:function(){var e=this,t=[{title:"\u5e8f\u53f7",dataIndex:"index",key:"index",width:60},{title:"\u64cd\u4f5c",key:"action",width:92,render:function(t){return s.a.createElement("div",null,s.a.createElement("img",{src:te.a,className:"admin_action",alt:"",onClick:function(){e.setState({platform_id:t.platform_id},function(){return e.getPlatDetail()})}}))}},{title:"\u5e73\u53f0\u540d\u79f0",dataIndex:"platform_name",key:"platform_name"},{title:"\u5e73\u53f0\u6807\u8bc6",dataIndex:"platform_flag",key:"platform_flag"},{title:"\u521b\u5efa\u65f6\u95f4",key:"add_time",dataIndex:"add_time",render:function(e){return s.a.createElement("div",null,Se.a.format(new Date(1e3*e),"yyyy-MM-dd hh:mm"))}}];this.setState({columns:t})}},{key:"deletePlat",value:function(e){}},{key:"getPlatDetail",value:function(){this.state.platform_id}},{key:"getData",value:function(){this.setState({loading:!0})}},{key:"addEditModal",value:function(){var e=this,t=this.state,a=t.modalTitle,n=t.addEditVisible,i=t.platform_flag,l=t.platform_flag_status,r=t.platform_name,o=t.platform_name_status,c=t.noChoice;return s.a.createElement(D.a,{title:a,wrapClassName:"admin_modal column",width:"520px",visible:n,onCancel:this.clearForm.bind(this),footer:s.a.createElement("div",{className:"action"},s.a.createElement(J.a,{style:{backgroundColor:"transparent"},onClick:this.clearForm.bind(this)},"\u5173\u95ed"),this.state.isLook?null:s.a.createElement(J.a,{className:" add_btn",onClick:this.handleModelOk.bind(this)},"\u4fdd\u5b58"))},s.a.createElement(Me,Object.assign({},xe,{label:s.a.createElement("span",null,s.a.createElement("i",null,"*"),"\u5e73\u53f0\u540d\u79f0"),validateStatus:o}),s.a.createElement(Y.a,{placeholder:"\u8bf7\u8f93\u5165\u5e73\u53f0\u540d\u79f0",className:"input",value:r,onChange:function(t){e.setState({platform_name:t.target.value})}})),s.a.createElement(Me,Object.assign({},xe,{label:s.a.createElement("span",null,s.a.createElement("i",null,"*"),"\u5e73\u53f0\u6807\u8bc6"),validateStatus:l}),s.a.createElement(Y.a,{placeholder:"2-12\u4e2a\u82f1\u6587\u5b57\u6bcd",className:"input",value:i,disabled:this.state.isLook,onChange:function(t){e.setState({platform_flag:t.target.value})}})),c?s.a.createElement(Q.a,{message:this.state.message,type:"error",closable:!0,showIcon:!0}):null)}},{key:"clearForm",value:function(){this.setState({addEditVisible:!1,platform_name:"",platform_name_status:"",platform_flag:"",platform_flag_status:""})}},{key:"handleModelOk",value:function(){var e=this,t=this.state,a=(t.isAdd,t.platform_name),n=t.platform_flag;t.platform_id;return a?n?void 0:(this.setState({noChoice:!0,message:"\u60a8\u8fd8\u6ca1\u6709\u8f93\u5165\u5e73\u53f0\u6807\u8bc6\uff01",platform_flag_status:"error"}),void window.setTimeout(function(){e.setState({noChoice:!1})},5e3)):(this.setState({noChoice:!0,message:"\u60a8\u8fd8\u6ca1\u6709\u8f93\u5165\u5e73\u53f0\u540d\u79f0\uff01",platform_name_status:"error"}),void window.setTimeout(function(){e.setState({noChoice:!1})},5e3))}},{key:"render",value:function(){var e=this;return s.a.createElement("div",{className:"admin plat"},s.a.createElement(J.a,{className:"add_btn",onClick:function(){e.setState({addEditVisible:!0,modalTitle:"\u5e73\u53f0\u65b0\u5efa",isAdd:!0})}},s.a.createElement(U.a,{type:"plus"}),"\u65b0\u589e"),s.a.createElement("div",{className:"tableWarp"},s.a.createElement(X.a,{columns:this.state.columns,dataSource:this.state.platList,bordered:!0,loading:this.state.loading,pagination:!1})),this.addEditModal())}}]),t}(n.Component),Oe=(new P,W.a.Option),je=Z.a.Item,De=H.a.Group,Ae=(F.a.Group,G.a.TabPane,{labelCol:{span:7},wrapperCol:{span:14}}),Le=function(e){function t(e){var a;return Object(C.a)(this,t),(a=Object(_.a)(this,Object(S.a)(t).call(this,e))).state={page_num:1,page_size:20,total_size:"",platform_id:" ",user_id:"",kw:"",userList:[],loading:!1,locale:{emptyText:"\u6ca1\u6709\u76f8\u5173\u6570\u636e"},addEditVisible:!1,modalTitle:"\u7528\u6237\u65b0\u5efa",isAdd:!0,formData:{user_id:"",username:"",username_status:"",name:"",name_status:"",phone:"",phone_status:"",platforms:[],status:!0,isEdit:!1},columns:[],powerVisible:!1,powerUserName:"",powerName:"",permission_ids:"",role_ids:"",platList:[],powerPlatShow:[],activeKey:"",resetVisible:!1,old_passwd:"",old_passwd_status:"",new_passwd:"",new_passwd_status:"",new_passwd_confirm:"",new_passwd_confirm_status:"",noChoice:!1,message:"",plat_id:""},a}return Object(M.a)(t,e),Object(w.a)(t,[{key:"componentDidMount",value:function(){this.getData(),this.setColumn()}},{key:"componentWillReceiveProps",value:function(){}},{key:"setColumn",value:function(){var e=this,t=(this.state.formData,[{title:"\u4ee3\u7406\u5546\u540d\u79f0",dataIndex:"index",key:"index"},{title:"\u4ee3\u7406\u5546\u610f\u5411\u7528\u6237\u6570",key:"action",render:function(t){return s.a.createElement("div",null,s.a.createElement("img",{src:te.a,className:"admin_action",alt:"",onClick:function(){e.getUserDetail(t.user_id)}}),s.a.createElement("img",{src:ie.a,className:"admin_action",alt:"",onClick:function(){var a=[];t.platforms.map(function(e){a.push(e.platform_id+"")}),e.setState({powerUserName:t.username,powerName:t.name,powerPlatShow:a,activeKey:a[0],powerVisible:!0,user_id:t.user_id})}}),s.a.createElement("img",{src:ne.a,className:"admin_action",alt:"",onClick:function(){D.a.confirm({title:"\u63d0\u793a",content:"\u786e\u5b9a\u91cd\u7f6e\u5bc6\u7801\uff1f",okText:"\u786e\u5b9a",cancelText:"\u5173\u95ed",onOk:function(){e.resetPasswd(t.user_id)}})}}))}},{title:"\u4ee3\u7406\u5546\u4f63\u91d1",dataIndex:"name",key:"name"},{title:"\u4ee3\u7406\u5546\u4ed8\u6b3e\u7528\u6237\u6570",dataIndex:"username",key:"username"},{title:"\u4ee3\u7406\u5546\u672a\u4ed8\u6b3e\u7528\u6237\u6570",key:"platforms",render:function(e){var t=e.platforms,a=[];return t.length>0&&t.map(function(e){a.push(e.platform_name)}),t.length>0?a.join(","):""}}]);this.setState({columns:t})}},{key:"getUserDetail",value:function(e){var t=this.state,a=t.formData;t.platList;a.isEdit=!0,a.user_id=e}},{key:"focusNextInput",value:function(e){for(var t=document.getElementsByClassName("input"),a=0;a<t.length;a++){if(a==t.length-1){t[0].focus();break}if(e.target==t[a]){t[a+1].focus();break}}}},{key:"topBar",value:function(){var e=this;return s.a.createElement("div",{className:"search-title",style:{minWidth:"1170px"}},s.a.createElement("div",{className:"params params-20",style:{minWidth:"97px"}},s.a.createElement("span",null,"\u5e73\u53f0\uff1a"),s.a.createElement(W.a,{value:this.state.platform_id+"",style:{width:"200px"},onChange:function(t){e.setState({platform_id:t},function(){e.getData()})}},this.state.platList.map(function(e){return s.a.createElement(Oe,{value:e.platform_id+"",key:e.platform_id+""},e.platform_name)}),s.a.createElement(Oe,{value:" "},"\u5168\u90e8"))),s.a.createElement("div",{className:"params params-20",style:{minWidth:"170px"}},s.a.createElement("span",null,"\u5173\u952e\u5b57\uff1a"),s.a.createElement(Y.a,{placeholder:"\u59d3\u540d\u3001\u8d26\u53f7\u3001\u624b\u673a\u53f7",value:this.state.kw,style:{width:"200px"},onChange:function(t){e.setState({kw:t.target.value},function(){e.getData()})}})),s.a.createElement("div",{className:"params",style:{marginRight:"60px"}},s.a.createElement(J.a,{className:"search-btn",onClick:function(){e.getData()}},"\u67e5\u8be2"),s.a.createElement(J.a,{style:{maxWidth:"60px",backgroundcolor:"#fff",borderColor:"#d9d9d9",color:"#222",marginLeft:"12px"},onClick:function(){e.setState({kw:"",platform_id:" "},function(){return e.getData()})}},"\u6e05\u7a7a")))}},{key:"getData",value:function(){var e=this.state,t=e.platform_id,a=e.kw,n={page_size:e.page_size,page_num:e.page_num};" "!=t&&(n.platform_id=t),a&&(n.kw=a)}},{key:"addEditModal",value:function(){var e=this,t=this.state,a=t.modalTitle,n=t.addEditVisible,i=t.formData;return s.a.createElement(D.a,{title:a,wrapClassName:"admin_modal column",width:"520px",visible:n,onCancel:this.handleModelCancel.bind(this),footer:s.a.createElement("div",{className:"action"},s.a.createElement(J.a,{style:{backgroundColor:"transparent"},onClick:this.handleModelCancel.bind(this)},"\u5173\u95ed"),s.a.createElement(J.a,{className:" add_btn",onClick:this.handleModelOk.bind(this)},"\u4fdd\u5b58"))},s.a.createElement(je,Object.assign({},Ae,{label:s.a.createElement("span",null,s.a.createElement("i",null,"*"),"\u8d26\u53f7"),validateStatus:i.username_status}),s.a.createElement(Y.a,{placeholder:"\u8bf7\u8f93\u5165\u624b\u673a\u53f7\u7801",disabled:i.isEdit,className:"input",onPressEnter:function(t){return e.focusNextInput(t)},value:i.username,onChange:function(t){i.username=t.target.value,i.phone=t.target.value,e.setState({formData:i})}})),s.a.createElement(je,Object.assign({},Ae,{label:s.a.createElement("span",null,s.a.createElement("i",null,"*"),"\u59d3\u540d"),validateStatus:i.name_status}),s.a.createElement(Y.a,{placeholder:"\u8bf7\u8f93\u5165\u59d3\u540d",className:"input",onPressEnter:function(t){return e.focusNextInput(t)},value:i.name,onChange:function(t){i.name=t.target.value,e.setState({formData:i})}})),s.a.createElement(je,Object.assign({},Ae,{label:s.a.createElement("span",null,s.a.createElement("i",null,"*"),"\u624b\u673a\u53f7"),validateStatus:i.phone_status}),s.a.createElement(Y.a,{placeholder:"\u8bf7\u8f93\u5165\u6b63\u786e\u624b\u673a\u53f7",className:"input",onPressEnter:function(t){return e.focusNextInput(t)},value:i.phone,onChange:function(t){i.phone=t.target.value,e.setState({formData:i})}})),s.a.createElement(je,Object.assign({},Ae,{label:s.a.createElement("span",null,s.a.createElement("i",null,"*"),"\u5e73\u53f0")}),s.a.createElement(B.a,null,this.state.platList.map(function(t,a){return s.a.createElement(F.a,{key:a+"",style:{marginRight:"30px"},value:t.platform_id+"",checked:t.checked,onChange:function(a){a.target.checked?i.platforms.push(t.platform_id+""):i.platforms=i.platforms.filter(function(e){return e!=t.platform_id+""}),e.setState({formData:i},function(){var t=e.state.platList;t.map(function(t){t.checked=!1,e.state.formData.platforms.map(function(e){t.platform_id+""==e&&(t.checked=!0)})}),e.setState({platList:t})})}},t.platform_name)}))),s.a.createElement(je,Object.assign({},Ae,{label:"\u542f\u7528\u72b6\u6001"}),s.a.createElement(De,{onChange:function(t){i.status=t.target.value,e.setState({formData:i})},value:i.status},s.a.createElement(H.a,{value:!0},"\u6b63\u5e38"),s.a.createElement(H.a,{value:!1},"\u505c\u7528"))),this.state.noChoice?s.a.createElement(Q.a,{message:this.state.message,type:"error",closable:!0,showIcon:!0}):null)}},{key:"handleModelCancel",value:function(){this.clearCreateForm(),this.setState({addEditVisible:!1})}},{key:"clearCreateForm",value:function(){var e=this,t=this.state,a=t.formData,n=t.platList;a.user_id="",a.username="",a.username_status="",a.name="",a.name_status="",a.phone="",a.phone_status="",a.status=!0,a.isEdit=!1,a.platforms=[],this.setState({formData:a},function(){n.map(function(t){t.checked=!1,e.state.formData.platforms.map(function(e){t.platform_id+""==e&&(t.checked=!0)})}),e.setState({platList:n})})}},{key:"handleModelOk",value:function(){var e=this,t=this.state,a=t.isAdd,n=t.formData;if(!n.username)return this.setState({noChoice:!0,message:"\u60a8\u8fd8\u6ca1\u6709\u8f93\u5165\u8d26\u53f7\uff01",platform_name_status:"error"}),void window.setTimeout(function(){e.setState({noChoice:!1})},5e3);if(!n.name)return this.setState({noChoice:!0,message:"\u60a8\u8fd8\u6ca1\u6709\u8f93\u5165\u59d3\u540d\uff01",platform_name_status:"error"}),void window.setTimeout(function(){e.setState({noChoice:!1})},5e3);if(!n.phone)return this.setState({noChoice:!0,message:"\u60a8\u8fd8\u6ca1\u6709\u8f93\u5165\u624b\u673a\u53f7\uff01",platform_name_status:"error"}),void window.setTimeout(function(){e.setState({noChoice:!1})},5e3);if(n.platforms.length<=0)return this.setState({noChoice:!0,message:"\u60a8\u8fd8\u6ca1\u6709\u9009\u62e9\u5e73\u53f0\uff01",platform_name_status:"error"}),void window.setTimeout(function(){e.setState({noChoice:!1})},5e3);if(a);else{n.username,n.name,n.phone;var s=n.status,i=n.platforms;n.user_id,i.join(",");s=s?1:0}}},{key:"powerModal",value:function(){var e=this;return s.a.createElement(D.a,{title:"\u7528\u6237\u89d2\u8272\u6743\u9650",wrapClassName:"admin_power_modal column",width:"940px",visible:this.state.powerVisible,onCancel:function(){e.setState({powerVisible:!1})},footer:s.a.createElement("div",{className:"action"},s.a.createElement(J.a,{style:{backgroundColor:"transparent"},onClick:function(){e.setState({powerVisible:!1})}},"\u5173\u95ed"))},s.a.createElement("div",{className:"user_msg"},s.a.createElement("span",{className:"modal_title"},"\u57fa\u672c\u4fe1\u606f"),s.a.createElement("p",{style:{marginTop:"10px"}},s.a.createElement("span",{style:{marginRight:"20px"}},"\u7528\u6237\u8d26\u53f7\uff1a",this.state.powerUserName),s.a.createElement("span",null,"\u7528\u6237\u59d3\u540d\uff1a",this.state.powerName))),s.a.createElement("div",{className:"power_set"},s.a.createElement("span",{className:"modal_title"},"\u89d2\u8272\u6743\u9650\u8bbe\u7f6e")))}},{key:"resetPasswd",value:function(e){}},{key:"render",value:function(){var e=this;return s.a.createElement("div",{className:"admin"},s.a.createElement(J.a,{className:"add_btn",onClick:function(){e.setState({addEditVisible:!0,modalTitle:"\u7528\u6237\u65b0\u5efa",isAdd:!0})}},s.a.createElement(U.a,{type:"plus"}),"\u65b0\u589e"),this.topBar(),s.a.createElement("div",{className:"tableWarp"},s.a.createElement(X.a,{columns:this.state.columns,dataSource:this.state.userList,bordered:!0,loading:this.state.loading,locale:this.state.locale,pagination:{current:this.state.page_num,pageSize:this.state.page_size,showQuickJumper:!0,showSizeChanger:!0,onChange:function(t){e.setState({page_num:t},function(){e.getData()})},onShowSizeChange:function(t,a){e.setState({page_size:a},function(){e.getData()})},total:this.state.total_size}})),this.addEditModal(),this.powerModal())}}]),t}(n.Component),Ie=(new P,Z.a.Item),Pe=["\u989c\u8272\u4e0d\u5bf9","\u5c3a\u5bf8\u4e0d\u5bf9","\u6570\u91cf\u4e0d\u5bf9","\u5176\u4ed6"],Te={labelCol:{span:7},wrapperCol:{span:14}},Re=function(e){function t(e){var a;return Object(C.a)(this,t),(a=Object(_.a)(this,Object(S.a)(t).call(this,e))).state={storeList:[{index:"--",freight_number:"--",pc_attrice:"--",address:"--"}],reason:"",loading:!1,columns:[],platform_id:"",modalTitle:"",addEditVisible:!1,isAdd:!1,reason_status:"",noChoice:!1,message:"",freight_number:"",order_number:"",abnormal_order:""},a}return Object(M.a)(t,e),Object(w.a)(t,[{key:"componentDidMount",value:function(){this.getData(),this.setColumn()}},{key:"setColumn",value:function(){var e=this,t=[{title:"\u4ea7\u54c1\u540d\u79f0",dataIndex:"index",key:"index"},{title:"\u8fd0\u5355\u53f7",dataIndex:"freight_number",key:"freight_number"},{title:"\u4ea7\u54c1\u5c5e\u6027",dataIndex:"pc_attrice",key:"pc_attrice"},{title:"\u56fd\u5916\u5730\u5740",key:"address",dataIndex:"address"},{title:"\u64cd\u4f5c",key:"action",width:120,render:function(t){return s.a.createElement("div",null,s.a.createElement("span",{style:{cursor:"pointer",marginRight:"10px"}},"\u53d1\u8d27"),s.a.createElement("span",{style:{cursor:"pointer"},onClick:function(){e.setState({platform_id:t.platform_id,addEditVisible:!0,isAdd:!1})}},"\u6ede\u7559"))}}];this.setState({columns:t})}},{key:"getData",value:function(){this.setState({})}},{key:"addEditModal",value:function(){var e=this,t=this.state,a=t.modalTitle,n=t.addEditVisible,i=t.reason_status,l=t.noChoice,r=s.a.createElement(x.a,{onClick:function(t){e.setState({reason:t.key})}},Pe.map(function(e,t){return s.a.createElement(x.a.Item,{key:e},e)}));return s.a.createElement(D.a,{title:a,wrapClassName:"admin_modal column",width:"520px",visible:n,onCancel:this.clearForm.bind(this),footer:s.a.createElement("div",{className:"action"},s.a.createElement(J.a,{style:{backgroundColor:"transparent"},onClick:this.clearForm.bind(this)},"\u5173\u95ed"),this.state.isLook?null:s.a.createElement(J.a,{className:" add_btn",onClick:this.handleModelOk.bind(this)},"\u4fdd\u5b58"))},s.a.createElement(Ie,Object.assign({},Te,{label:s.a.createElement("span",null,s.a.createElement("i",null,"*"),"\u6ede\u7559\u539f\u56e0"),validateStatus:i}),s.a.createElement(K.a,{overlay:r},s.a.createElement(J.a,{style:{width:"150px"}},this.state.reason||"\u8bf7\u9009\u62e9\u6ede\u7559\u539f\u56e0"," ",s.a.createElement(U.a,{type:"down"})))),l?s.a.createElement(Q.a,{message:this.state.message,type:"error",closable:!0,showIcon:!0}):null)}},{key:"clearForm",value:function(){this.setState({addEditVisible:!1,reason:"",reason_status:""})}},{key:"handleModelOk",value:function(){var e=this,t=this.state,a=t.isAdd;if(!t.reason)return this.setState({noChoice:!0,message:"\u60a8\u8fd8\u6ca1\u6709\u9009\u62e9\u6ede\u7559\u539f\u56e0\uff01",reason_status:"error"}),void window.setTimeout(function(){e.setState({noChoice:!1})},2e3);a||this.setState({addEditVisible:!1})}},{key:"topBar",value:function(){var e=this;return s.a.createElement("div",{className:"search-title",style:{minWidth:"1170px"}},s.a.createElement("div",{className:"params params-20",style:{minWidth:"170px"}},s.a.createElement("span",null,"\u8fd0\u5355\u53f7\uff1a"),s.a.createElement(Y.a,{placeholder:"\u8bf7\u8f93\u5165\u8fd0\u5355\u53f7",value:this.state.freight_number,style:{width:"200px"},onChange:function(t){e.setState({freight_number:t.target.value})}})),s.a.createElement("div",{className:"params params-20",style:{minWidth:"170px"}},s.a.createElement("span",null,"\u8ba2\u5355\u53f7\uff1a"),s.a.createElement(Y.a,{placeholder:"\u8bf7\u8f93\u5165\u8ba2\u5355\u53f7",value:this.state.order_number,style:{width:"200px"},onChange:function(t){e.setState({order_number:t.target.value})}})),s.a.createElement("div",{className:"params params-20",style:{minWidth:"170px"}},s.a.createElement("span",null,"\u5f02\u5e38\u8ba2\u5355\uff1a"),s.a.createElement(W.a,{value:this.state.abnormal_order||"\u9009\u62e9\u5f02\u5e38\u539f\u56e0",style:{width:200},onChange:function(t){e.setState({abnormal_order:t},function(){e.getData()})}},Pe.map(function(e){return s.a.createElement(W.a.Option,{value:e,key:e},e)}))),s.a.createElement("div",{className:"params",style:{marginRight:"60px"}},s.a.createElement(J.a,{className:"search-btn",onClick:function(){e.getData()}},"\u67e5\u8be2"),s.a.createElement(J.a,{style:{maxWidth:"60px",backgroundcolor:"#fff",borderColor:"#d9d9d9",color:"#222",marginLeft:"12px"},onClick:function(){e.setState({freight_number:"",order_number:"",abnormal_order:""},function(){e.getData()})}},"\u6e05\u7a7a")))}},{key:"render",value:function(){return s.a.createElement("div",{className:"admin plat"},s.a.createElement("div",{className:"tableWarp"},this.topBar(),s.a.createElement(X.a,{columns:this.state.columns,dataSource:this.state.storeList,bordered:!0,loading:this.state.loading,pagination:!1})),this.addEditModal())}}]),t}(n.Component),Ve=z.a.Header,ze=z.a.Sider,Ge=z.a.Content,Ke=G.a.TabPane,Ue={AdminManage:"\u4f1a\u5458\u7ba1\u7406",AgentManage:"\u4ee3\u7406\u5546\u7ba1\u7406",RoleManage:"\u89d2\u8272\u7ba1\u7406",PowerManage:"\u6743\u9650\u7ba1\u7406",UserProductManage:"\u7528\u6237\u4ea7\u54c1",PlatProductManage:"\u5e73\u53f0\u4ea7\u54c1",StoreManage:"\u4ed3\u5e93\u7ba1\u7406",OrderManage:"\u8ba2\u5355\u7ba1\u7406",NoLogisistManage:"\u8ba2\u5355\u672a\u53d1\u7269\u6d41\u9884\u8b66",ContractorManage:"\u7b2c\u4e09\u65b9\u627f\u5305\u65b9\u7ba1\u7406",FactoryManage:"\u5382\u5bb6\u7ba1\u7406"},We={AdminManage:s.a.createElement(ue,null),AgentManage:s.a.createElement(Le,null),PowerManage:s.a.createElement(we,null),UserProductManage:s.a.createElement(we,null),PlatProductManage:s.a.createElement(we,null),StoreManage:s.a.createElement(Re,null),OrderManage:s.a.createElement(Ne,null),ContractorManage:s.a.createElement(Ne,null),NoLogisistManage:s.a.createElement(Ne,null),FactoryManage:s.a.createElement(Ne,null)},Ze=function(e){function t(e){var a;return Object(C.a)(this,t),(a=Object(_.a)(this,Object(S.a)(t).call(this,e))).state={activeKey:"",tipAry:[],checkedMenu:""},a}return Object(M.a)(t,e),Object(w.a)(t,[{key:"componentWillMount",value:function(){this.setState({activeKey:this.props.addActiveKey})}},{key:"componentDidMount",value:function(){var e=this;this.showMenu2(),this.getTabsInfo(this.props),L()(window).resize(function(){e.changeTabMaxwidth()})}},{key:"componentWillReceiveProps",value:function(e){this.getTabsInfo(e),this.changeTabMaxwidth()}},{key:"changeTabMaxwidth",value:function(){var e=L()(".content").css("width");this.state.tipAry.length>0&&L()(L()(".ant-tabs-bar")[0]).css("maxWidth",parseFloat(e)-183)}},{key:"getTabsInfo",value:function(e){this.setState({tipAry:e.tabs})}},{key:"onTabChange",value:function(e){this.setState({activeKey:e}),this.props.dispatch(f(e))}},{key:"onTabEdit",value:function(e,t){var a=this.props.dispatch;if("add"==t)return a({type:"ADD",name:e}),this.setState({activeKey:e}),a(f(e)),void this.getTabsInfo(this.props);if("remove"==t){var n="";return this.state.tipAry.map(function(t,a){t==e&&(n=a)}),this.state.activeKey==e&&(n>0?(this.setState({activeKey:this.state.tipAry[n-1]}),a(f(this.state.tipAry[n-1]))):(this.setState({activeKey:this.state.tipAry[n+1]}),this.state.tipAry[n+1]&&a(f(this.state.tipAry[n+1])))),void a(function(e){return{type:"REMOVE",name:e}}(e))}if("other"==t)return this.setState({activeKey:e}),a(f(e)),void a(function(e){return{type:"OTHER",name:e}}(e));"removeall"!=t||a(function(e){return{type:"REMOVEALL",name:e}}(e))}},{key:"showMenu2",value:function(e){var t=this.state.isMenuShow;if(e)return L()(".menu2").css("width",156),L()(".menu2").css("flex","0 0 156px"),void this.setState({isMenuShow:!1});t?(L()(".menu2").css("width",156),L()(".menu2").css("flex","0 0 156px"),this.setState({isMenuShow:!t})):(L()(".menu2").css("width",0),L()(".menu2").css("flex","0 0 0"),this.setState({isMenuShow:!t}))}},{key:"render",value:function(){var e=this,t=this.props,a=this.state.activeKey,n=s.a.createElement(x.a,{onClick:function(t){0!=t.key?1!=t.key?2==t.key&&e.onTabEdit(e.state.activeKey,"removeall"):e.onTabEdit(e.state.activeKey,"other"):e.onTabEdit(e.state.activeKey,"remove")},style:{top:"-3px"}},s.a.createElement(x.a.Item,{key:"0"},"\u5173\u95ed\u5f53\u524d\u9875"),s.a.createElement(x.a.Item,{key:"1"},"\u5173\u95ed\u5176\u4ed6\u9875"));return s.a.createElement("div",null,s.a.createElement(z.a,{style:{height:"100%",minHeight:"800px"}},s.a.createElement(ze,{className:"menu1",width:"180",style:{background:"linear-gradient(-180deg, #262a41 0%, #475071 100%)",height:"100%",minHeight:"800px"}},s.a.createElement(O,Object.assign({},t,{onTabEdit:function(t,a){e.onTabEdit(t,a)},defKey:a}))),s.a.createElement(z.a,null,s.a.createElement(Ve,null,s.a.createElement(V,t)),s.a.createElement(Ge,{className:"content"},this.state.tipAry.length>0?s.a.createElement(G.a,{onChange:function(t){e.onTabChange(t)},activeKey:this.state.activeKey,type:"editable-card",className:"tab",onEdit:function(t,a){return e.onTabEdit(t,a)},tabBarExtraContent:s.a.createElement("div",null,s.a.createElement(K.a,{overlay:n,trigger:["click"]},s.a.createElement("div",{className:"drop"},s.a.createElement(U.a,{type:"caret-down"})))),hideAdd:!0},this.state.tipAry.map(function(e){return s.a.createElement(Ke,{tab:Ue[e],key:e,closable:!0},We[e])})):null))))}}]),t}(n.Component),He=Object(o.b)(function(e){return Object(b.a)({},e)},function(e){return{dispatch:e}})(Ze),Fe=a(199),Ye=a.n(Fe),Je=a(200),Be=a.n(Je),Qe=(a(401),a(201)),Xe=a.n(Qe),qe=a(202),$e=a.n(qe),et=a(203),tt=a.n(et),at=a(204),nt=a.n(at),st=a(205),it=a.n(st),lt=a(206),rt=a.n(lt),ot=function(e){function t(e){var a;return Object(C.a)(this,t),(a=Object(_.a)(this,Object(S.a)(t).call(this,e))).state={isLoading:!1,checked:!1,username:"",password:"",errmsg:""},a.handleKeyUp=a.handleKeyUp.bind(Object(j.a)(a)),a}return Object(M.a)(t,e),Object(w.a)(t,[{key:"componentWillMount",value:function(){}},{key:"componentDidMount",value:function(){window.addEventListener("keyup",this.handleKeyUp)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("keyup",this.handleKeyUp)}},{key:"handleClick",value:function(){this.login()}},{key:"handleKeyUp",value:function(e){13===e.keyCode&&this.login()}},{key:"login",value:function(){var e=this.props.dispatch,t=this.state,a=t.username,n=t.password;if(""!=a)if(""!=n){if(!a)return this.setState({});if(!n)return this.setState({});this.setState({isLoading:!0}),e({type:"LOGIN",user:{username:"megnqian"}}),this.props.history.replace("/")}else this.setState({errmsg:"\u8bf7\u8f93\u5165\u5bc6\u7801\uff01"});else this.setState({errmsg:"\u8bf7\u8f93\u5165\u8d26\u6237\uff01"})}},{key:"render",value:function(){var e=this,t=this.state,a=t.username,n=t.password,i=t.errmsg,l=this.state.isLoading;return s.a.createElement("div",{className:"loginwarp"},s.a.createElement("div",{className:"container"},s.a.createElement("form",{className:"login"},s.a.createElement("p",{className:"logo"},s.a.createElement("img",{src:Ye.a,alt:""})),s.a.createElement("p",{className:"title"},"\u8d26\u53f7\u7ba1\u7406\u7cfb\u7edf"),i?s.a.createElement("div",{className:"err"},s.a.createElement(U.a,{type:"close-circle-o",style:{cursor:"pointer"},onClick:function(){e.setState({errmsg:""})}}),s.a.createElement("span",null,i)):null,s.a.createElement(Y.a,{id:"user",value:a||"",placeholder:"\u8d26\u6237",addonBefore:s.a.createElement("i",null,s.a.createElement("img",{src:it.a,alt:""})),onChange:function(t){e.setState({username:t.target.value})}}),s.a.createElement(Y.a,{onChange:function(t){e.setState({password:t.target.value})},type:"password",value:n||"",placeholder:"\u5bc6\u7801",addonBefore:s.a.createElement("i",null,s.a.createElement("img",{src:rt.a,alt:""}))}),s.a.createElement(J.a,{key:"submit",size:"large",loading:l,onClick:this.handleClick.bind(this)},"\u767b\u5f55"),s.a.createElement("div",{className:"bottom-font"},s.a.createElement("img",{src:Be.a,alt:""}))),s.a.createElement("div",{className:"img"},s.a.createElement("img",{className:"picture",src:Xe.a,alt:""}),s.a.createElement("div",{className:"word"},s.a.createElement("img",{src:$e.a,alt:"",className:"word1"}),s.a.createElement("img",{src:nt.a,alt:"",className:"seal"})),s.a.createElement("img",{src:tt.a,alt:"",className:"word2"}))))}}]),t}(n.Component),ct=Object(o.b)(function(e){return{user:e.login.user}},function(e){return{dispatch:e}})(ot),mt=(a(402),y()({basename:"/"}));var ut=function(){return s.a.createElement("div",{className:"App"},s.a.createElement(v.a,{history:mt},s.a.createElement(E.c,null,s.a.createElement(E.a,{exact:!0,path:"/",component:He}),s.a.createElement(E.a,{exact:!0,path:"/login",component:ct}))))},dt={key:"root",storage:d.a,whitelist:["tabs","addActiveKey"]},pt=Object(m.a)(dt,g),ht=Object(r.d)(pt,Object(r.a)(c.a)),ft=Object(m.b)(ht);l.a.render(s.a.createElement(o.a,{store:ht},s.a.createElement(p.a,{loading:null,persistor:ft},s.a.createElement(ut,null))),document.getElementById("root"))},74:function(e,t,a){e.exports=a.p+"static/media/delete.8ac289be.svg"}},[[211,1,2]]]);
//# sourceMappingURL=main.8ce79ed0.chunk.js.map